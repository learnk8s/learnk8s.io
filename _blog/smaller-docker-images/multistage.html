{% include_relative multistage.svg %}
<script>
(function() {
  const basicTimeline = anime.timeline({
    autoplay: false,
  });
  basicTimeline
  .add({
    targets: '#multistage-01',
    translateY: [-70, 0],
    opacity: [0, 100],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#multistage-02',
    translateY: [-70, 0],
    opacity: [0, 100],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#multistage-03',
    translateY: [-70, 0],
    opacity: [0, 100],
    easing: 'easeOutExpo',
  })
  .add({
    targets: ['#multistage-01', '#multistage-02', '#multistage-03'],
    translateX: [0, 326],
    easing: 'easeOutExpo',
  })
  .add({
    targets: ['#multistage-01', '#multistage-02', '#multistage-03'],
    opacity: 0,
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#multistage-04',
    opacity: [0, 100],
    easing: 'easeOutExpo',
    offset: '-=1000',
  })
  .add({
    targets: '#multistage-05',
    translateY: [-70, 0],
    opacity: [0, 100],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#multistage-06',
    translateY: [-70, 0],
    opacity: [0, 100],
    easing: 'easeOutExpo',
  })
  document.getElementById('play-multistage').onclick = basicTimeline.restart;
  onScrollIntoView(document.getElementById('multistage'), function() {
    setTimeout(basicTimeline.play, 1000)
  });
})();
</script>
