{% include_relative over_the_air.svg %}
<script>
(function() {
  const svg = document.querySelector('#over_the_air')
  function run(faulty) {
    const basicTimeline = anime.timeline({
      autoplay: true,
      loop: false,
    });
    var rnd = random(1, 3)
    basicTimeline
    .add({
      begin: function() {
        document.querySelector('#over_the_air-animejs-down-1').style.opacity = 0;
        document.querySelector('#over_the_air-animejs-down-2').style.opacity = 0;
        document.querySelector('#over_the_air-animejs-down-3').style.opacity = 0;
      },
      targets: ['#over_the_air-animejs-wifi-3-1', '#over_the_air-animejs-wifi-2-1', '#over_the_air-animejs-wifi-1-1'],
      opacity: [0, 1],
      easing: 'easeInExpo',
    })
    .add({
      targets: ['#over_the_air-animejs-wifi-3-2', '#over_the_air-animejs-wifi-2-2', '#over_the_air-animejs-wifi-1-2'],
      opacity: [0, 1],
      easing: 'easeInExpo',
    })
    .add({
      targets: ['#over_the_air-animejs-wifi-3-3', '#over_the_air-animejs-wifi-2-3', '#over_the_air-animejs-wifi-1-3'],
      opacity: [0, 1],
      easing: 'easeInExpo',
    })
    .add({
      targets: '#over_the_air-animejs-down-' + faulty,
      opacity: [0, 1],
      easing: 'easeInExpo',
    })
    .add({})
    .add({
      targets: ['#over_the_air-animejs-wifi-3-3', '#over_the_air-animejs-wifi-2-3', '#over_the_air-animejs-wifi-1-3',
      '#over_the_air-animejs-wifi-3-2', '#over_the_air-animejs-wifi-2-2', '#over_the_air-animejs-wifi-1-2',
      '#over_the_air-animejs-wifi-3-1', '#over_the_air-animejs-wifi-2-1', '#over_the_air-animejs-wifi-1-1',
      '#over_the_air-animejs-down-' + faulty,
    ],
      opacity: [1, 0],
      easing: 'easeOutExpo',
    })
    .finished.then(() => run(random(1, 3)));
  }
  run(random(1, 3));
  function random(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }
})();
</script>